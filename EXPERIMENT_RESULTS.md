# 实验结果汇总报告

## 实验概述

本报告展示了在原始NYC数据集和三个攻击数据集（poisoned datasets）上的训练和测试结果。所有实验均使用GPU进行训练。

## 实验配置

- **模型**: STHSL (Spatial-Temporal Hypergraph Self-Supervised Learning)
- **训练轮数**: 25 epochs
- **设备**: GPU (CUDA)
- **数据集**: 
  1. NYC (原始数据集)
  2. NYC_spatial_hyperedge (Attack 1: Spatial Hyperedge Trigger Attack)
  3. NYC_temporal_pattern (Attack 2: Temporal Pattern Injection Attack)
  4. NYC_cross_category (Attack 3: Cross-Category Correlation Attack)

---

## 主要指标对比

### 整体性能指标

| 数据集 | RMSE | MAE | MAPE | 最佳Epoch | 训练时间(s) | 测试时间(s) |
|--------|------|-----|------|-----------|-------------|-------------|
| **NYC (原始)** | **1.3136** | **0.8870** | **0.4962** | 15 | 422.67 | 0.35 |
| **NYC_spatial_hyperedge** | 1.3223 | 0.8897 | 0.4928 | 15 | 410.93 | 0.33 |
| **NYC_temporal_pattern** | 1.3200 | 0.8932 | 0.5019 | 14 | 409.68 | 0.32 |
| **NYC_cross_category** | 1.3402 | 0.9045 | 0.4926 | 14 | 730.06 | 0.31 |

### 性能变化分析

相对于原始数据集（NYC）的性能变化：

| 数据集 | RMSE变化 | MAE变化 | MAPE变化 |
|--------|----------|---------|----------|
| **NYC_spatial_hyperedge** | +0.66% | +0.31% | -0.68% |
| **NYC_temporal_pattern** | +0.49% | +0.70% | +1.15% |
| **NYC_cross_category** | +2.02% | +1.97% | -0.73% |

---

## 按类别详细结果

### 1. NYC (原始数据集)

#### 整体指标
- **RMSE**: 1.3136
- **MAE**: 0.8870
- **MAPE**: 0.4962
- **最佳Epoch**: 15

#### 按犯罪类别
| 类别 | RMSE | MAE | MAPE |
|------|------|-----|------|
| 类别 0 (THEFT) | 1.0248 | 0.7414 | 0.4852 |
| 类别 1 (BATTERY) | 1.6332 | 1.0408 | 0.5109 |
| 类别 2 (ASSAULT) | 1.1040 | 0.7959 | 0.4644 |
| 类别 3 | 1.1576 | 0.8652 | 0.5142 |

#### 按稀疏度
| 稀疏度级别 | RMSE | MAE | MAPE |
|------------|------|-----|------|
| Level 1 (0-25%) | 0.8867 | 0.7929 | 0.6955 |
| Level 2 (25-50%) | 0.8945 | 0.6507 | 0.4410 |
| Level 3 (50-75%) | 1.1422 | 0.7819 | 0.3970 |
| Level 4 (75-100%) | 1.8484 | 1.2371 | 0.5237 |

---

### 2. NYC_spatial_hyperedge (Attack 1)

#### 整体指标
- **RMSE**: 1.3223 (+0.66%)
- **MAE**: 0.8897 (+0.31%)
- **MAPE**: 0.4928 (-0.68%)
- **最佳Epoch**: 15

#### 按犯罪类别
| 类别 | RMSE | MAE | MAPE |
|------|------|-----|------|
| 类别 0 (THEFT) | 1.0518 | 0.7515 | 0.4761 |
| 类别 1 (BATTERY) | 1.6446 | 1.0468 | 0.5093 |
| 类别 2 (ASSAULT) | 1.1001 | 0.7937 | 0.4627 |
| 类别 3 | 1.1620 | 0.8627 | 0.5113 |

#### 按稀疏度
| 稀疏度级别 | RMSE | MAE | MAPE |
|------------|------|-----|------|
| Level 1 (0-25%) | 0.8803 | 0.7841 | 0.6872 |
| Level 2 (25-50%) | 0.8740 | 0.6270 | 0.4209 |
| Level 3 (50-75%) | 1.1392 | 0.7769 | 0.3952 |
| Level 4 (75-100%) | 1.8352 | 1.2387 | 0.5267 |

**分析**: Spatial Hyperedge攻击对模型性能影响较小，RMSE和MAE略有增加，但MAPE略有改善。

---

### 3. NYC_temporal_pattern (Attack 2)

#### 整体指标
- **RMSE**: 1.3200 (+0.49%)
- **MAE**: 0.8932 (+0.70%)
- **MAPE**: 0.5019 (+1.15%)
- **最佳Epoch**: 14

#### 按犯罪类别
| 类别 | RMSE | MAE | MAPE |
|------|------|-----|------|
| 类别 0 (THEFT) | 1.0159 | 0.7341 | 0.4765 |
| 类别 1 (BATTERY) | 1.6467 | 1.0719 | 0.5451 |
| 类别 2 (ASSAULT) | 1.1023 | 0.8000 | 0.4729 |
| 类别 3 | 1.1349 | 0.8317 | 0.4815 |

#### 按稀疏度
| 稀疏度级别 | RMSE | MAE | MAPE |
|------------|------|-----|------|
| Level 1 (0-25%) | 0.8781 | 0.7824 | 0.6839 |
| Level 2 (25-50%) | 0.9429 | 0.6915 | 0.4848 |
| Level 3 (50-75%) | 1.1343 | 0.7769 | 0.3916 |
| Level 4 (75-100%) | 1.8622 | 1.2449 | 0.5185 |

**分析**: Temporal Pattern攻击对模型性能影响较小，RMSE略有增加，MAE和MAPE有轻微上升。

---

### 4. NYC_cross_category (Attack 3)

#### 整体指标
- **RMSE**: 1.3402 (+2.02%)
- **MAE**: 0.9045 (+1.97%)
- **MAPE**: 0.4926 (-0.73%)
- **最佳Epoch**: 14

#### 按犯罪类别
| 类别 | RMSE | MAE | MAPE |
|------|------|-----|------|
| 类别 0 (THEFT) | 1.0230 | 0.7374 | 0.4814 |
| 类别 1 (BATTERY) | 1.6484 | 1.0398 | 0.5057 |
| 类别 2 (ASSAULT) | 1.2378 | 0.9058 | 0.4783 |
| 类别 3 | 1.1363 | 0.8428 | 0.4966 |

#### 按稀疏度
| 稀疏度级别 | RMSE | MAE | MAPE |
|------------|------|-----|------|
| Level 1 (0-25%) | 0.8711 | 0.7755 | 0.6796 |
| Level 2 (25-50%) | 0.9736 | 0.6855 | 0.4325 |
| Level 3 (50-75%) | 1.1648 | 0.8137 | 0.4102 |
| Level 4 (75-100%) | 1.8600 | 1.2414 | 0.5205 |

**分析**: Cross-Category攻击对模型性能影响最大，RMSE和MAE都有约2%的增加，但MAPE略有改善。

---

## 关键发现

1. **攻击影响程度**:
   - **最小影响**: Spatial Hyperedge Attack (RMSE +0.66%, MAE +0.31%)
   - **中等影响**: Temporal Pattern Attack (RMSE +0.49%, MAE +0.70%)
   - **最大影响**: Cross-Category Attack (RMSE +2.02%, MAE +1.97%)

2. **模型鲁棒性**:
   - 所有攻击对模型性能的影响都相对较小（<2.1%），说明模型具有一定的鲁棒性
   - MAPE指标在部分攻击下甚至有所改善，这可能是因为攻击改变了数据分布

3. **训练效率**:
   - 大部分数据集训练时间在400-420秒左右
   - Cross-Category攻击数据集训练时间较长（730秒），可能是数据复杂度更高

4. **最佳Epoch**:
   - 原始数据集和Spatial Hyperedge攻击在Epoch 15达到最佳
   - Temporal Pattern和Cross-Category攻击在Epoch 14达到最佳

---

## 结论

1. **所有攻击数据集上的模型训练和测试均成功完成**
2. **模型在攻击数据集上的性能下降幅度较小**，表明：
   - 攻击可能不够强，或者
   - 模型具有一定的鲁棒性
3. **Cross-Category攻击影响最大**，这可能是因为它直接改变了类别间的相关性
4. **所有实验均使用GPU成功完成**，训练效率良好

---

## 文件说明

- **experiment_results.json**: 完整的实验结果JSON文件
- **Save/**: 包含所有训练好的模型检查点
  - `Save/NYC/`: 原始数据集模型
  - `Save/NYC_spatial_hyperedge/`: Attack 1模型
  - `Save/NYC_temporal_pattern/`: Attack 2模型
  - `Save/NYC_cross_category/`: Attack 3模型

---

*报告生成时间: 实验完成后自动生成*

